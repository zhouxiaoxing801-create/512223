<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æ¹¯å§†è²“</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%);
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .game-container {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            padding: 30px;
            position: relative;
            max-width: 800px;
            width: 90%;
        }
        
        .title {
            text-align: center;
            font-size: 32px;
            color: #2F4F4F;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .cat-container {
            position: relative;
            width: 100%;
            height: 400px;
            background: linear-gradient(to bottom, #87CEEB 0%, #90EE90 50%, #228B22 100%);
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            border: 3px solid #4a4a4a;
        }
        
        #tomCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        .info-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 15px;
            color: white;
            font-weight: bold;
        }
        
        .mood-indicator {
            font-size: 24px;
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
        }
        
        .speech-bubble {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid white;
        }
        
        .speech-bubble.show {
            opacity: 1;
        }
        
        .floating-items {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        
        .floating-item {
            position: absolute;
            font-size: 30px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .interaction-area {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="title">ğŸ± æˆ‘çš„æ¹¯å§†è²“ ğŸ±</h1>
        
        <div class="cat-container">
            <canvas id="tomCanvas" width="740" height="400"></canvas>
            <div class="speech-bubble" id="speechBubble"></div>
            <div class="floating-items" id="floatingItems"></div>
            <div class="interaction-area" id="interactionArea"></div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="petCat()">ğŸ¾ æ‘¸æ‘¸æ¹¯å§†</button>
            <button class="control-btn" onclick="feedCat()">ğŸ– é¤µé£Ÿ</button>
            <button class="control-btn" onclick="playWithCat()">ğŸ¾ ç©éŠæˆ²</button>
            <button class="control-btn" onclick="makeNoise()">ğŸ”Š ç™¼å‡ºè²éŸ³</button>
            <button class="control-btn" onclick="dance()">ğŸ’ƒ è·³èˆ</button>
        </div>
        
        <div class="info-panel">
            <div>å¿ƒæƒ…: <span id="mood">ğŸ˜Š é–’ç½®ä¸­</span></div>
            <div>é£¢é¤“åº¦: <span id="hunger">50%</span></div>
            <div>å¿«æ¨‚åº¦: <span id="happiness">80%</span></div>
        </div>
        
        <div class="mood-indicator">
            <div>æ¹¯å§†è²“ç‹€æ…‹: <span id="catStatus">æ­£åœ¨ç­‰å¾…äº’å‹•...</span></div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('tomCanvas');
        const ctx = canvas.getContext('2d');
        const speechBubble = document.getElementById('speechBubble');
        const floatingItems = document.getElementById('floatingItems');
        const interactionArea = document.getElementById('interactionArea');
        
        // æ¹¯å§†è²“ç‹€æ…‹
        let tomCat = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: 80,
            mood: 'happy',
            hunger: 50,
            happiness: 80,
            isSleeping: false,
            isEating: false,
            isPlaying: false,
            isDancing: false,
            lastInteraction: 0,
            animationFrame: 0,
            eyeState: 'open',
            tailAngle: 0
        };
        
        // æ¹¯å§†è²“å°è©±
        const catMessages = {
            happy: ['å–µ~ ğŸ˜Š', 'æˆ‘å¥½é–‹å¿ƒ!', 'ä½ çœŸå¥½!', 'æˆ‘æ„›ä½ !'],
            hungry: ['æˆ‘é¤“äº†... ğŸ–', 'çµ¦æˆ‘é£Ÿç‰©!', 'è‚šå­å¥½é¤“...', 'å–µ~ é¤µæˆ‘å˜›!'],
            sad: ['æˆ‘ä¸é–‹å¿ƒ... ğŸ˜¢', 'é™ªæˆ‘ç©å˜›!', 'æˆ‘å¥½ç„¡èŠ...', 'å–µ~ æŠ±æŠ±æˆ‘!'],
            sleeping: ['Zzz... ğŸ˜´', 'åˆ¥åµæˆ‘...', 'æˆ‘åœ¨ç¡è¦º...', 'å¤¢åˆ°ä½ äº†...'],
            eating: ['å¥½åƒ! ğŸ˜‹', 'é‚„è¦æ›´å¤š!', 'ç¾å‘³!', 'å–µ~ å¥½åƒ!'],
            playing: ['å¥½æœ‰è¶£! ğŸ¾', 'å†ç©ä¸€æ¬¡!', 'æˆ‘è´äº†!', 'å–µ~ éŠæˆ²å¥½ç©!'],
            dancing: ['è·³èˆæ™‚é–“! ğŸ’ƒ', 'æ—‹è½‰è·³èº!', 'æˆ‘æœƒè·³èˆ!', 'å–µ~ è·³èˆæœ€æ£’!']
        };
        
        // ç¹ªè£½æ¹¯å§†è²“
        function drawTomCat() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç¹ªè£½èƒŒæ™¯
            drawBackground();
            
            // è¨ˆç®—å‹•ç•«åç§»
            const bobOffset = Math.sin(tomCat.animationFrame * 0.1) * 5;
            const currentY = tomCat.y + bobOffset;
            
            // ç¹ªè£½é™°å½±
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.beginPath();
            ctx.ellipse(tomCat.x, tomCat.y + tomCat.size/2 + 10, tomCat.size/2, tomCat.size/6, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // ç¹ªè£½èº«é«”
            ctx.fillStyle = '#4A90E2';
            ctx.beginPath();
            ctx.ellipse(tomCat.x, currentY, tomCat.size, tomCat.size * 0.8, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // ç¹ªè£½é ­éƒ¨
            ctx.fillStyle = '#5BA0F2';
            ctx.beginPath();
            ctx.arc(tomCat.x, currentY - tomCat.size * 0.6, tomCat.size * 0.7, 0, Math.PI * 2);
            ctx.fill();
            
            // ç¹ªè£½è€³æœµ
            ctx.fillStyle = '#4A90E2';
            // å·¦è€³
            ctx.beginPath();
            ctx.moveTo(tomCat.x - tomCat.size * 0.5, currentY - tomCat.size * 0.9);
            ctx.lineTo(tomCat.x - tomCat.size * 0.3, currentY - tomCat.size * 1.2);
            ctx.lineTo(tomCat.x - tomCat.size * 0.1, currentY - tomCat.size * 0.9);
            ctx.fill();
            
            // å³è€³
            ctx.beginPath();
            ctx.moveTo(tomCat.x + tomCat.size * 0.5, currentY - tomCat.size * 0.9);
            ctx.lineTo(tomCat.x + tomCat.size * 0.3, currentY - tomCat.size * 1.2);
            ctx.lineTo(tomCat.x + tomCat.size * 0.1, currentY - tomCat.size * 0.9);
            ctx.fill();
            
            // ç¹ªè£½çœ¼ç›
            drawEyes(currentY);
            
            // ç¹ªè£½é¼»å­
            ctx.fillStyle = '#FF69B4';
            ctx.beginPath();
            ctx.arc(tomCat.x, currentY - tomCat.size * 0.5, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // ç¹ªè£½å˜´å·´
            drawMouth(currentY);
            
            // ç¹ªè£½é¬é¬š
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            // å·¦é‚Šé¬é¬š
            ctx.beginPath();
            ctx.moveTo(tomCat.x - tomCat.size * 0.3, currentY - tomCat.size * 0.4);
            ctx.lineTo(tomCat.x - tomCat.size * 0.6, currentY - tomCat.size * 0.3);
            ctx.moveTo(tomCat.x - tomCat.size * 0.3, currentY - tomCat.size * 0.5);
            ctx.lineTo(tomCat.x - tomCat.size * 0.6, currentY - tomCat.size * 0.5);
            ctx.moveTo(tomCat.x - tomCat.size * 0.3, currentY - tomCat.size * 0.6);
            ctx.lineTo(tomCat.x - tomCat.size * 0.6, currentY - tomCat.size * 0.7);
            ctx.stroke();
            
            // å³é‚Šé¬é¬š
            ctx.beginPath();
            ctx.moveTo(tomCat.x + tomCat.size * 0.3, currentY - tomCat.size * 0.4);
            ctx.lineTo(tomCat.x + tomCat.size * 0.6, currentY - tomCat.size * 0.3);
            ctx.moveTo(tomCat.x + tomCat.size * 0.3, currentY - tomCat.size * 0.5);
            ctx.lineTo(tomCat.x + tomCat.size * 0.6, currentY - tomCat.size * 0.5);
            ctx.moveTo(tomCat.x + tomCat.size * 0.3, currentY - tomCat.size * 0.6);
            ctx.lineTo(tomCat.x + tomCat.size * 0.6, currentY - tomCat.size * 0.7);
            ctx.stroke();
            
            // ç¹ªè£½å°¾å·´
            drawTail(currentY);
            
            // ç¹ªè£½è…³
            ctx.fillStyle = '#4A90E2';
            // å‰è…³
            ctx.beginPath();
            ctx.ellipse(tomCat.x - tomCat.size * 0.3, currentY + tomCat.size * 0.6, tomCat.size * 0.2, tomCat.size * 0.3, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(tomCat.x + tomCat.size * 0.3, currentY + tomCat.size * 0.6, tomCat.size * 0.2, tomCat.size * 0.3, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // å¾Œè…³
            ctx.beginPath();
            ctx.ellipse(tomCat.x - tomCat.size * 0.2, currentY + tomCat.size * 0.8, tomCat.size * 0.25, tomCat.size * 0.25, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(tomCat.x + tomCat.size * 0.2, currentY + tomCat.size * 0.8, tomCat.size * 0.25, tomCat.size * 0.25, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // æ›´æ–°å‹•ç•«
            tomCat.animationFrame++;
            if (tomCat.animationFrame % 60 === 0) {
                updateCatMood();
            }
        }
        
        function drawBackground() {
            // ç¹ªè£½åœ°æ¿
            ctx.fillStyle = '#8FBC8F';
            ctx.fillRect(0, canvas.height * 0.8, canvas.width, canvas.height * 0.2);
            
            // ç¹ªè£½ä¸€äº›è£é£¾
            ctx.fillStyle = '#90EE90';
            for (let i = 0; i < 5; i++) {
                const x = (i + 1) * canvas.width / 6;
                const y = canvas.height * 0.75;
                ctx.beginPath();
                ctx.arc(x, y, 15, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function drawEyes(currentY) {
            const eyeY = currentY - tomCat.size * 0.6;
            
            if (tomCat.eyeState === 'open') {
                // å·¦çœ¼
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(tomCat.x - tomCat.size * 0.2, eyeY, tomCat.size * 0.15, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.arc(tomCat.x - tomCat.size * 0.2, eyeY, tomCat.size * 0.08, 0, Math.PI * 2);
                ctx.fill();
                
                // å³çœ¼
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(tomCat.x + tomCat.size * 0.2, eyeY, tomCat.size * 0.15, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.arc(tomCat.x + tomCat.size * 0.2, eyeY, tomCat.size * 0.08, 0, Math.PI * 2);
                ctx.fill();
            } else if (tomCat.eyeState === 'closed') {
                // å·¦çœ¼é–‰è‘—
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(tomCat.x - tomCat.size * 0.2, eyeY, tomCat.size * 0.15, 0, Math.PI);
                ctx.stroke();
                
                // å³çœ¼é–‰è‘—
                ctx.beginPath();
                ctx.arc(tomCat.x + tomCat.size * 0.2, eyeY, tomCat.size * 0.15, 0, Math.PI);
                ctx.stroke();
            } else if (tomCat.eyeState === 'sleep') {
                // å·¦çœ¼ç¡è‘—
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(tomCat.x - tomCat.size * 0.25, eyeY);
                ctx.lineTo(tomCat.x - tomCat.size * 0.15, eyeY);
                ctx.stroke();
                
                // å³çœ¼ç¡è‘—
                ctx.beginPath();
                ctx.moveTo(tomCat.x + tomCat.size * 0.15, eyeY);
                ctx.lineTo(tomCat.x + tomCat.size * 0.25, eyeY);
                ctx.stroke();
            }
        }
        
        function drawMouth(currentY) {
            const mouthY = currentY - tomCat.size * 0.4;
            
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 2;
            
            if (tomCat.mood === 'happy') {
                // å¾®ç¬‘
                ctx.beginPath();
                ctx.arc(tomCat.x, mouthY, tomCat.size * 0.2, 0, Math.PI);
                ctx.stroke();
            } else if (tomCat.mood === 'sad') {
                // æ‚²å‚·
                ctx.beginPath();
                ctx.arc(tomCat.x, mouthY + tomCat.size * 0.1, tomCat.size * 0.2, Math.PI, 0);
                ctx.stroke();
            } else if (tomCat.mood === 'eating') {
                // åƒæ±è¥¿çš„å˜´
                ctx.beginPath();
                ctx.ellipse(tomCat.x, mouthY, tomCat.size * 0.15, tomCat.size * 0.1, 0, 0, Math.PI * 2);
                ctx.stroke();
            } else {
                // æ™®é€šå˜´å·´
                ctx.beginPath();
                ctx.moveTo(tomCat.x - tomCat.size * 0.1, mouthY);
                ctx.lineTo(tomCat.x + tomCat.size * 0.1, mouthY);
                ctx.stroke();
            }
        }
        
        function drawTail(currentY) {
            ctx.strokeStyle = '#4A90E2';
            ctx.lineWidth = 15;
            ctx.lineCap = 'round';
            
            const tailBaseX = tomCat.x + tomCat.size * 0.8;
            const tailBaseY = currentY + tomCat.size * 0.2;
            const tailEndX = tailBaseX + Math.cos(tomCat.tailAngle) * tomCat.size * 0.8;
            const tailEndY = tailBaseY + Math.sin(tomCat.tailAngle) * tomCat.size * 0.8;
            
            ctx.beginPath();
            ctx.moveTo(tailBaseX, tailBaseY);
            ctx.quadraticCurveTo(
                tailBaseX + tomCat.size * 0.4, 
                tailBaseY - tomCat.size * 0.3,
                tailEndX, 
                tailEndY
            );
            ctx.stroke();
            
            // æ›´æ–°å°¾å·´è§’åº¦
            if (tomCat.isDancing) {
                tomCat.tailAngle += 0.3;
            } else {
                tomCat.tailAngle += 0.05;
            }
        }
        
        function updateCatMood() {
            // è‡ªå‹•æ›´æ–°é£¢é¤“åº¦
            if (!tomCat.isEating) {
                tomCat.hunger = Math.min(100, tomCat.hunger + 2);
            }
            
            // è‡ªå‹•æ›´æ–°å¿«æ¨‚åº¦
            if (tomCat.hunger > 70) {
                tomCat.happiness = Math.max(0, tomCat.happiness - 3);
            } else {
                tomCat.happiness = Math.min(100, tomCat.happiness + 1);
            }
            
            // æ ¹æ“šç‹€æ…‹æ›´æ–°å¿ƒæƒ…
            if (tomCat.isSleeping) {
                tomCat.mood = 'sleeping';
                tomCat.eyeState = 'sleep';
            } else if (tomCat.isEating) {
                tomCat.mood = 'eating';
                tomCat.eyeState = 'open';
            } else if (tomCat.isPlaying) {
                tomCat.mood = 'playing';
                tomCat.eyeState = 'open';
            } else if (tomCat.isDancing) {
                tomCat.mood = 'dancing';
                tomCat.eyeState = 'open';
            } else if (tomCat.hunger > 70) {
                tomCat.mood = 'hungry';
                tomCat.eyeState = 'open';
            } else if (tomCat.happiness < 30) {
                tomCat.mood = 'sad';
                tomCat.eyeState = 'closed';
            } else {
                tomCat.mood = 'happy';
                tomCat.eyeState = 'open';
            }
            
            updateUI();
        }
        
        function updateUI() {
            const moodElement = document.getElementById('mood');
            const hungerElement = document.getElementById('hunger');
            const happinessElement = document.getElementById('happiness');
            const statusElement = document.getElementById('catStatus');
            
            // æ›´æ–°å¿ƒæƒ…é¡¯ç¤º
            let moodText = '';
            switch(tomCat.mood) {
                case 'happy': moodText = 'ğŸ˜Š é–’ç½®ä¸­'; break;
                case 'hungry': moodText = 'ğŸ˜‹ é¤“äº†'; break;
                case 'sad': moodText = 'ğŸ˜‚ æ‚²å‚·'; break;
                case 'sleeping': moodText = 'ğŸ˜´ ç¡è¦ºä¸­'; break;
                case 'eating': moodText = 'ğŸ– åƒæ±è¥¿'; break;
                case 'playing': moodText = 'ğŸ¾ ç©éŠæˆ²'; break;
                case 'dancing': moodText = 'ğŸ’ƒ è·³èˆä¸­'; break;
            }
            moodElement.textContent = moodText;
            
            // æ›´æ–°é£¢é¤“åº¦
            hungerElement.textContent = tomCat.hunger + '%';
            
            // æ›´æ–°å¿«æ¨‚åº¦
            happinessElement.textContent = tomCat.happiness + '%';
            
            // æ›´æ–°ç‹€æ…‹
            let statusText = '';
            switch(tomCat.mood) {
                case 'happy': statusText = 'æ¹¯å§†è²“å¾ˆé–‹å¿ƒï¼Œæ­£åœ¨äº«å—é™½å…‰!'; break;
                case 'hungry': statusText = 'æ¹¯å§†è²“è‚šå­é¤“äº†ï¼Œéœ€è¦é£Ÿç‰©!'; break;
                case 'sad': statusText = 'æ¹¯å§†è²“æœ‰é»æ‚²å‚·ï¼Œéœ€è¦é—œå¿ƒ...'; break;
                case 'sleeping': statusText = 'æ¹¯å§†è²“æ­£åœ¨ç¡è¦ºï¼Œè«‹ä¿æŒå®‰éœ...'; break;
                case 'eating': statusText = 'æ¹¯å§†è²“æ­£åœ¨äº«å—ç¾é£Ÿ!'; break;
                case 'playing': statusText = 'æ¹¯å§†è²“ç©å¾—å¾ˆé–‹å¿ƒ!'; break;
                case 'dancing': statusText = 'æ¹¯å§†è²“æ­£åœ¨è·³èˆï¼Œå¥½æ£’!'; break;
            }
            statusElement.textContent = statusText;
        }
        
        function showSpeech(message) {
            speechBubble.textContent = message;
            speechBubble.classList.add('show');
            
            setTimeout(() => {
                speechBubble.classList.remove('show');
            }, 3000);
        }
        
        function createFloatingItem(emoji) {
            const item = document.createElement('div');
            item.className = 'floating-item';
            item.textContent = emoji;
            item.style.left = Math.random() * 80 + 10 + '%';
            item.style.top = Math.random() * 60 + 20 + '%';
            item.style.animationDelay = Math.random() * 2 + 's';
            
            floatingItems.appendChild(item);
            
            setTimeout(() => {
                item.remove();
            }, 3000);
        }
        
        // äº’å‹•åŠŸèƒ½
        function petCat() {
            tomCat.isSleeping = false;
            tomCat.isEating = false;
            tomCat.isPlaying = false;
            tomCat.isDancing = false;
            tomCat.happiness = Math.min(100, tomCat.happiness + 10);
            
            const messages = catMessages.happy;
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            showSpeech(randomMessage);
            
            createFloatingItem('â¤ï¸');
            updateCatMood();
        }
        
        function feedCat() {
            if (tomCat.hunger > 20) {
                tomCat.isEating = true;
                tomCat.hunger = Math.max(0, tomCat.hunger - 30);
                tomCat.happiness = Math.min(100, tomCat.happiness + 15);
                
                const messages = catMessages.eating;
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                showSpeech(randomMessage);
                
                createFloatingItem('ğŸ–');
                
                setTimeout(() => {
                    tomCat.isEating = false;
                    updateCatMood();
                }, 3000);
            } else {
                showSpeech('æˆ‘ä¸é¤“äº†å–µ~ ğŸ˜Š');
            }
            updateCatMood();
        }
        
        function playWithCat() {
            tomCat.isPlaying = true;
            tomCat.happiness = Math.min(100, tomCat.happiness + 20);
            tomCat.hunger = Math.min(100, tomCat.hunger + 5);
            
            const messages = catMessages.playing;
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            showSpeech(randomMessage);
            
            createFloatingItem('ğŸ¾');
            
            setTimeout(() => {
                tomCat.isPlaying = false;
                updateCatMood();
            }, 3000);
            updateCatMood();
        }
        
        function makeNoise() {
            const noises = ['å–µ~', 'å–µå–µ!', 'å—š~', 'å–µå—š~'];
            const randomNoise = noises[Math.floor(Math.random() * noises.length)];
            showSpeech(randomNoise);
            
            createFloatingItem('ğŸ”Š');
            updateCatMood();
        }
        
        function dance() {
            tomCat.isDancing = true;
            tomCat.happiness = Math.min(100, tomCat.happiness + 15);
            
            const messages = catMessages.dancing;
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            showSpeech(randomMessage);
            
            createFloatingItem('ğŸ’ƒ');
            
            setTimeout(() => {
                tomCat.isDancing = false;
                updateCatMood();
            }, 4000);
            updateCatMood();
        }
        
        // é»æ“Šç•«å¸ƒäº’å‹•
        interactionArea.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // æª¢æŸ¥æ˜¯å¦é»æ“Šåˆ°æ¹¯å§†è²“
            const distance = Math.sqrt((x - tomCat.x) ** 2 + (y - tomCat.y) ** 2);
            if (distance < tomCat.size) {
                petCat();
            }
        });
        
        // éŠæˆ²å¾ªç’°
        function gameLoop() {
            drawTomCat();
            requestAnimationFrame(gameLoop);
        }
        
        // åˆå§‹åŒ–
        updateUI();
        gameLoop();
        
        // å®šæœŸæ›´æ–°æ¹¯å§†è²“ç‹€æ…‹
        setInterval(() => {
            updateCatMood();
        }, 2000);
    </script>
</body>
</html>